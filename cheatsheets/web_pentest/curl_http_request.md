### üåê HTTP Requests with cURL

**HTTP Requests** are fundamental to web communication, allowing clients to interact with servers. **cURL** is a powerful command-line tool for making HTTP requests, supporting various methods, headers, data formats, and authentication mechanisms.

  * **HTTP Methods:** GET, POST, PUT, DELETE, HEAD, OPTIONS, PATCH
  * **Request Components:** URL, headers, body, parameters
  * **Response Elements:** Status code, headers, body
  * **Common Use Cases:** API testing, data submission, file transfer, automation
  * **Why cURL is Useful:** Provides a versatile way to test web applications, debug APIs, and automate HTTP interactions directly from the command line without requiring a browser.

-----

### üìù Basic cURL Syntax

Understanding the fundamental structure of cURL commands.

  * **Command Structure**

    ```bash
    curl [options] [URL]
    ```

    **When to use:** For making any type of HTTP request.
    **Options:** Use flags to specify method, headers, data, and other parameters.

-----

### üîÑ HTTP Methods with cURL

Different HTTP methods and how to use them with cURL.

  * **GET Request - Retrieve Data**

    ```bash
    curl https://api.example.com/users
    ```

    **When to use:** When you need to fetch data from an endpoint.
    **Response:** Returns the response body from the server.

  * **GET with Parameters**

    ```bash
    curl "https://api.example.com/users?name=john&age=30"
    ```

    **When to use:** When you need to send query parameters.
    **Note:** Enclose URL in quotes when using special characters.

  * **POST Request - Send Form Data**

    ```bash
    curl -X POST https://api.example.com/users \
      -d "name=john" \
      -d "email=john@example.com"
    ```

    **When to use:** When submitting form data or creating resources.
    **Content-Type:** Defaults to `application/x-www-form-urlencoded`.

  * **POST with JSON Data**

    ```bash
    curl -X POST https://api.example.com/users \
      -H "Content-Type: application/json" \
      -d '{"name": "john", "email": "john@example.com"}'
    ```

    **When to use:** When working with JSON APIs.
    **Headers:** Use `-H` to set Content-Type.

  * **POST with File Upload**

    ```bash
    curl -X POST https://api.example.com/upload \
      -F "file=@document.pdf" \
      -F "description=Project document"
    ```

    **When to use:** When uploading files or multipart form data.
    **Content-Type:** Automatically sets to `multipart/form-data`.

  * **PUT Request - Update Resources**

    ```bash
    curl -X PUT https://api.example.com/users/123 \
      -H "Content-Type: application/json" \
      -d '{"name": "john_doe", "email": "john.doe@example.com"}'
    ```

    **When to use:** When updating entire resources.
    **Idempotent:** Multiple identical requests have the same effect.

  * **PATCH Request - Partial Update**

    ```bash
    curl -X PATCH https://api.example.com/users/123 \
      -H "Content-Type: application/json" \
      -d '{"email": "new.email@example.com"}'
    ```

    **When to use:** When updating specific fields of a resource.

  * **DELETE Request - Remove Resources**

    ```bash
    curl -X DELETE https://api.example.com/users/123
    ```

    **When to use:** When deleting resources from the server.

  * **HEAD Request - Headers Only**

    ```bash
    curl -I https://api.example.com/users
    ```

    **When to use:** When you only need response headers without the body.

-----

### ‚öôÔ∏è Advanced cURL Options

Advanced features and options for specialized use cases.

  * **Setting Custom Headers**

    ```bash
    curl -H "Authorization: Bearer token123" \
      -H "User-Agent: MyApp/1.0" \
      https://api.example.com/protected
    ```

    **When to use:** When authentication or custom headers are required.

  * **Viewing Response Headers**

    ```bash
    curl -i https://api.example.com/users
    ```

    **When to use:** When you need both headers and body in the response.

  * **Basic Authentication**

    ```bash
    curl -u username:password https://api.example.com/protected
    ```

    **When to use:** When HTTP Basic Auth is required.

  * **Bearer Token Authentication**

    ```bash
    curl -H "Authorization: Bearer your_token_here" \
      https://api.example.com/protected
    ```

    **When to use:** When JWT or OAuth tokens are used.

  * **Reading Data from File**

    ```bash
    curl -X POST https://api.example.com/users \
      -H "Content-Type: application/json" \
      -d @data.json
    ```

    **When to use:** When request body is stored in a file.

  * **Saving Response to File**

    ```bash
    curl -o response.json https://api.example.com/users
    ```

    **When to use:** When you need to save the response to a file.

  * **Following Redirects**

    ```bash
    curl -L https://example.com
    ```

    **When to use:** When the server returns redirect responses (3xx).

  * **Setting Timeouts**

    ```bash
    curl --connect-timeout 10 --max-time 30 https://api.example.com/data
    ```

    **When to use:** To prevent hanging requests.

  * **Verbose Output**

    ```bash
    curl -v https://api.example.com/users
    ```

    **When to use:** For debugging and seeing request/response details.

  * **Ignoring SSL Certificate Verification**

    ```bash
    curl -k https://self-signed-cert.example.com
    ```

    **When to use:** For testing with self-signed certificates (not recommended for production).

-----

### üõ†Ô∏è Practical Examples

Real-world scenarios and use cases for cURL.

  * **Testing File Upload Vulnerability**

    ```bash
    curl -X POST http://vulnerable-site.com/upload \
      -F "file=@shell.php" \
      -F "submit=Upload" \
      -H "Content-Type: multipart/form-data"
    ```

    **When to use:** Testing file upload functionality during security assessments.

  * **API Testing Sequence**

    ```bash
    # Create user
    curl -X POST https://api.example.com/users \
      -H "Content-Type: application/json" \
      -d '{"name": "alice", "email": "alice@example.com"}'

    # Get user
    curl https://api.example.com/users/1

    # Update user
    curl -X PUT https://api.example.com/users/1 \
      -H "Content-Type: application/json" \
      -d '{"name": "alice_smith", "email": "alice.smith@example.com"}'

    # Delete user
    curl -X DELETE https://api.example.com/users/1
    ```

    **When to use:** Comprehensive API testing workflow.

  * **Downloading Files**

    ```bash
    # Download and save with original name
    curl -O https://example.com/files/document.pdf

    # Download and save with custom name
    curl -o myfile.pdf https://example.com/files/document.pdf
    ```

    **When to use:** When downloading files from web servers.

  * **Session Management with Cookies**

    ```bash
    # Save cookies from login
    curl -c cookies.txt -X POST https://example.com/login \
      -d "username=admin&password=secret"

    # Use cookies for authenticated request
    curl -b cookies.txt https://example.com/dashboard
    ```

    **When to use:** When maintaining session state across multiple requests.

-----

### üìã Common cURL Flags Reference

Quick reference for frequently used cURL options.

| Flag | Description | Example |
| :--- | :--- | :--- |
| `-X` | HTTP method | `-X POST` |
| `-H` | Header | `-H "Content-Type: application/json"` |
| `-d` | Data (body) | `-d '{"key": "value"}'` |
| `-F` | Form data | `-F "file=@test.jpg"` |
| `-u` | Authentication | `-u user:pass` |
| `-i` | Include headers | `-i` |
| `-I` | Head only | `-I` |
| `-L` | Follow redirects | `-L` |
| `-o` | Output to file | `-o response.json` |
| `-O` | Save with remote name | `-O` |
| `-v` | Verbose | `-v` |
| `-k` | Ignore SSL | `-k` |
| `--connect-timeout` | Connection timeout | `--connect-timeout 10` |
| `--max-time` | Maximum time | `--max-time 30` |
| `-c` | Save cookies | `-c cookies.txt` |
| `-b` | Send cookies | `-b cookies.txt` |

-----

### üîí Security Testing with cURL

Using cURL for security assessment and vulnerability testing.

  * **Testing for SQL Injection**

    ```bash
    curl -X POST https://vulnerable-site.com/login \
      -d "username=admin' OR '1'='1'--&password=anything"
    ```

    **When to use:** Testing input validation vulnerabilities.

  * **Testing for XSS**

    ```bash
    curl -X POST https://vulnerable-site.com/search \
      -d "query=<script>alert('XSS')</script>"
    ```

    **When to use:** Testing for cross-site scripting vulnerabilities.

  * **Testing File Inclusion**

    ```bash
    curl https://vulnerable-site.com/index.php?page=../../etc/passwd
    ```

    **When to use:** Testing for local file inclusion vulnerabilities.

-----

### ü§ñ Automation Scripts

Script examples for automating cURL operations.

  * **Bash Script for API Testing**

    ```bash
    #!/bin/bash

    BASE_URL="https://api.example.com"
    AUTH_TOKEN="bearer_token_here"

    # Function to make authenticated request
    api_request() {
        local method=$1
        local endpoint=$2
        local data=$3
        
        curl -X "$method" \
            -H "Authorization: Bearer $AUTH_TOKEN" \
            -H "Content-Type: application/json" \
            -d "$data" \
            "$BASE_URL$endpoint"
    }

    # Test endpoints
    api_request "GET" "/users"
    api_request "POST" "/users" '{"name": "test", "email": "test@example.com"}'
    ```

    **Why it's useful:** For automated API testing and integration.
    **How it works:** Wraps cURL commands in reusable functions.

  * **Monitoring Script**

    ```bash
    #!/bin/bash

    URLS=(
        "https://api.example.com/health"
        "https://web.example.com"
        "https://db.example.com/ping"
    )

    for url in "${URLS[@]}"; do
        if curl -s --head --fail "$url" > /dev/null; then
            echo "‚úì $url is UP"
        else
            echo "‚úó $url is DOWN"
        fi
    done
    ```

    **Why it's useful:** For monitoring website and API availability.
    **How it works:** Checks HTTP response codes for multiple URLs.

-----

### üåç Real-World Use Cases

Practical applications of cURL in various scenarios.

  * **CI/CD Integration**

    ```bash
    # Deploy script using cURL
    curl -X POST https://api.github.com/repos/owner/repo/deployments \
      -H "Authorization: token $GITHUB_TOKEN" \
      -H "Accept: application/vnd.github.ant-man-preview+json" \
      -d '{"ref": "main", "environment": "production"}'
    ```

    **Why it's used:** For automating deployment pipelines and integrations.

  * **Webhook Testing**

    ```bash
    curl -X POST https://api.example.com/webhook \
      -H "Content-Type: application/json" \
      -H "X-GitHub-Event: push" \
      -d '{"ref": "refs/heads/main", "commits": [{"id": "abc123", "message": "Test commit"}]}'
    ```

    **Why it's used:** For testing webhook endpoints and integrations.

  * **Load Testing Preparation**

    ```bash
    # Generate test data
    for i in {1..100}; do
        curl -X POST https://api.example.com/users \
          -H "Content-Type: application/json" \
          -d "{\"name\": \"user$i\", \"email\": \"user$i@example.com\"}"
    done
    ```

    **Why it's used:** For preparing test data before load testing.

-----

**Made with love by VIsh0k**